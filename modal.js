/* ============================================================
   FULL GAME DATA SET (54 entries)
   ============================================================ */

const gameData = {
  /* ------------------ 18 POEM GAMES ------------------ */
  poem1:{ type:"digital", title:"Fireworks Across Time", play:"https://sudhakar-g.itch.io/fireworks-across-time", screenshots:["img/Game Poems/Fireworks Across the Sky/Screenshot1.png","img/Game Poems/Fireworks Across the Sky/Screenshot2.png","img/Game Poems/Fireworks Across the Sky/Screenshot3.png"], description:"“Fireworks Across Time” is an emotional journey through Diwali across the years. As the player grows older, friends drift away and celebrations fade, leaving only memories of laughter and light. This reflective experience captures the bittersweet truth of growing up — that even when the world changes, the glow of Diwali stays in our hearts." },
  poem2:{ type:"digital", title:"Windows of Light", play:"https://sagarsigroha.itch.io/diwali-game-poem", screenshots:["img/GamePoemSagar/ss1.png","img/GamePoemSagar/ss2.png"], description:"Windows of Light unfolds as a gentle exploration of connection and memory. Move through the quiet streets with the arrow keys, your diya flickering as your guide. Click on glowing windows to unveil traces of what was once alive. Each spark deepens the glow, until the city itself remembers and the night turns to light." },
  poem3:{ type:"digital", title:"Soul Ascend", play:"https://sagarsigroha.itch.io/soul-ascend", screenshots:["img/GamePoemSagar/ss5.png","img/GamePoemSagar/ss6.png"], description:"In Soul Ascend, you guide a glowing soul through realms of color and energy.\nMove with your mouse, collect petals of awakening, and avoid the distractions that pull you down.\nEach chakra you awaken brightens your spirit until all dissolve into pure light." },
  poem4:{ type:"digital", title:"A Sigh by the River.", play:"https://thejackofhearts.itch.io/a-sigh-by-the-river-game-poem", screenshots:["img/GamePoemAashishA/ss11.png","img/GamePoemAashishA/ss12.png","img/GamePoemAashishA/ss13.png","img/GamePoemAashishA/ss14.png"], description:"Use left Mouse Button Clicks and Right Arrow Key to progress.\nA short, atmospheric game poem about experiencing a major festival as nothing more than a distant, digital echo.\nIn A Sigh by the River, you play as an individual living in a region where Diwali is not celebrated. The game is a linear, symbolic journey capturing the specific, hollow feeling of a holiday existing only on your phone screen.\nA Sigh by the River is a 7-minute, linear art game. It uses simple mechanics (repeated clicking, driving, UI interaction) to explore complex themes of cultural detachment, digital solitude, and the hollowness of performing a celebration you don't experience.\n\nGenre: Game Poem / Narrative Art Game\n\nThe Story:\nThe story opens with the player alone in a paddy field. The first interaction is a close-up where the player must repeatedly click the mouse to light their cigarette. Each click advances a single frame of the flame, from a spark to a full light. This action is a metaphor for a firework; it's the only time in the game the player directly interacts with creating light, a symbolic, solitary stand-in for the missing celebration.\nThis quiet, personal 'firework' is immediately interrupted when the player is reminded of the actual festival not by lights or sounds, but by a buzz on their phone.\nFrom there, A few key moments and metaphors to show this collective, regional experience.\nAs the player drives through the silent city, all the house windows display chat boxes. Inside these boxes, people are simply wishing each other 'Happy Diwali' instead of celebrating. This is a visual statement that for this entire city/state, the massive festival has been reduced to a digital notification, a performance of wishes, rather than a real-world celebration.\nAfter stopping by a river, the player partakes in this same digital ritual, sending out 'Happy Diwali' wishes to everyone. They then let out a sigh, which captures that feeling of participating in something hollow.\nThis sigh leads to the climax, the player sees fireworks in the sky, but they're all playing in reverse. This final metaphor symbolizes that the spirit of the holiday doesn't just feel absent for them, it's culturally absent from the whole area. The celebration is literally being undone, or ‘un-happening’, in their world." },
  poem5:{ type:"digital", title:"Samurai and the Calf", play:"https://thejackofhearts.itch.io/samurai-and-the-calf", screenshots:["img/GamePoemAashishA/ss15.png","img/GamePoemAashishA/ss16.png"], description:"In the game, you play as Tsumu, a young samurai living a peaceful life in a small hut with her spirited pet calf, Kiko.\nThe game is a 5 minute, low-stakes, and deeply wholesome experience. It focuses on atmosphere, beautiful visuals, and a heartwarming narrative. The game concludes as you reunite with Kiko, pet him to calm him, and walk back home, now accompanied by your new, tiny, fluttering companion.\n\nGenre: Narrative Adventure / Exploration" },
  poem6:{ type:"digital", title:"Melancholy", play:"https://bhuwanyu.github.io/Bhuwanyu_NID_PlayfulMedia/Diwali%20Experience/", screenshots:["img/Game Poems/ss17.png","img/Game Poems/ss18.png"], description:"It is an interactive Diwali game poem where players use simple keyboard actions to follow my personal journey, calling friends, moving through small moments of celebration, and feeling both the warmth of connection and the quiet reality of being away from home during the festival." },
  poem7:{ type:"digital", title:"The Last Samurai", play:"https://bhuwanyu.github.io/Bhuwanyu_NID_PlayfulMedia/Weekend%20Assignment/Weekend%20Narrative%20Assignment/", screenshots:["img/Game Poems/ss21.png","img/Game Poems/ss22.png","img/Game Poems/ss23.png"], description:"This game is an interactive narrative that follows a Samurai living in the modern world. The story is meant to be sarcastic, showing how out of place a sword-wielding warrior is today. The player goes through his journey, where he tries to act like a traditional Samurai in a time where nobody takes him seriously. In the end, an NPC mocks him for using a sword in the modern world and shoots him, completing the ironic twist of the story." },
  poem8:{ type:"digital", title:"When i came back to where we used to be", play:"https://angst13.github.io/NID_DGD_P5.js/game%20poem/", screenshots:["img/Game Poems/ss26.png","img/Game Poems/ss27.png"], description:"This game poem explores the experience of returning home after time away, where everything looks familiar yet feels subtly altered. Inspired by my own Diwali vacation, it reflects the quiet disconnection of realizing that while I have changed in my own ways, the people and places I longed to return to have also moved forward without me. The game recreates this emotional tension: the sense of walking through spaces once filled with comfort, now layered with distance, nostalgia, and unspoken change. Its open-ended narrative invites players to project their own memories, losses, and moments of growth onto the journey." },
  poem9:{ type:"digital", title:"A Glimpse of Vagabond – Interactive Experience", play:"https://angst13.github.io/NID_DGD_P5.js/day%205/30s%20final%20assignment/", screenshots:["img/Game Poems/ss28.png","img/Game Poems/ss29.png"], description:"This project is an animated narrative experience presented through an interactive manga format, where players progress by clicking on specific numbered panels that guide the story’s intended sequence. Each panel contains subtle animations, accompanied by background music and unique sound effects that enhance the emotional atmosphere of every moment. The structure allows players to move through the story at their own pace, engaging with each fragment as both a visual and auditory experience" },
  poem10:{ type:"digital", title:"It's Diwali so it's fine", play:"https://sunxxkei.itch.io/game-poem", screenshots:["img/Game Poems/ss32.png","img/Game Poems/ss33.png"], description:"Poem 10 description." },
  poem11:{ type:"digital", title:"Do you believe in fairies?", play:"https://suneha002.github.io/playful-media-suneha/day5/day5%20assignment/", screenshots:["img/Game Poems/ss34.png","img/Game Poems/ss30.png","img/Game Poems/ss31.png"], description:"Poem 11 description." },
  poem12:{ type:"digital", title:"Firefly Nights ", play:"https://anshulshetty82-dotcom.github.io/NID_Anshul_P5.JS/Game%20pome_29.10.25/Proto%20type_1/", screenshots:["img/Game Poems/ss39.png","img/Game Poems/ss40.png"], description:"PBorn from a moment of profound empathy, Firefly Night is a quiet, evocative narrative adventure inspired directly by a dog's emotional journey through the chaos of Diwali. When the joyous lights and explosive sounds of the festival became overwhelming for our canine companion, his fear and his search for a peaceful refuge sparked the creation of this game." },
  poem13:{ type:"digital", title:"Trial of the night.", play:"https://anshulshetty82-dotcom.github.io/NID_Anshul_P5.JS/Day9_Game%20prototype_16.10.25/Code%20in%20class_Game%20prototype_1/", screenshots:["img/Game Poems/ss41.png","img/Game Poems/ss42.png"], description:"The Trial of the Night is a game about a bad dream in which the player is having a conversation with his inner voice, the happy man (the overman) and his conscious self (reflected by the player's action). The game talks about darker themes of desire and overcoming your fears. The ‘overman’ as coined by the German philosopher Friedrich Nietzsche - talks about it as a goal for humanity to strive for, representing a being who overcomes traditional morality and creates their own values and meaning in life. Key aspects include self-creation, the complete affirmation of life, and the rejection of external authority like religion or social norms, which is often illustrated metaphorically as the transformation from a camel to a lion to a child." },
  poem14:{ type:"digital", title:"Where Memories Become light", play:"https://adhi7034.github.io/NID_P5js/Diwali_game_poem", screenshots:["img/Game Poems/ss43.png","img/Game Poems/ss44.png"], description:"‘Where Memories Become light’ is a contemplative game poem where each press of a key releases a memory into the night sky. Fireworks emerge not as loud bursts of celebration but as quiet carriers of emotional sparks that rise, bloom, fade, and return home. As you launch these glowing fragments, lines of a poem slowly reveal themselves, guiding you through a gentle narrative of remembrance and release." },
  poem15:{ type:"digital", title:"Dante’s inferno", play:"https://adhi7034.github.io/NID_P5js/week_1_assignment_v2", screenshots:["img/Game Poems/ss37.png","img/Game Poems/ss38.png"], description:"Dante’s Inferno is a visual experience made in p5.js that turns the ideas from Dante’s story into interactive scenes. It focuses on themes such as human mistakes, guilt, and the hope for redemption, utilising clear and emotionally charged visuals. Each background represents a different layer of hell from the poem, showing what each circle stands for. The project mixes AI-generated art, coding, and storytelling to create an easy-to-follow, engaging experience that lets viewers explore Dante’s world in a fresh and modern way." },
  poem16:{ type:"digital", title:"Poem 16", play:"#", screenshots:["/mnt/data/website.png"], description:"Poem 16 description." },
  poem17:{ type:"digital", title:"Poem 17", play:"#", screenshots:["/mnt/data/website.png"], description:"Poem 17 description." },
  poem18:{ type:"digital", title:"Poem 18", play:"#", screenshots:["/mnt/data/website.png"], description:"Poem 18 description." },

  /* ------------------ 18 PONG GAMES ------------------ */
  pong1:{ type:"digital", title:"Casualism", play:"https://sudhakar-g.itch.io/pong-casualism", screenshots:["img/Pong/Casualism/Screenshot1.png","img/Pong/Casualism/Screenshot2.png","img/Pong/Casualism/Screenshot3.png"], description:"This isn’t your ordinary Pong match — it’s a playful experiment in chaos and chance. In this game inspired by Casualism, control and meaning are illusions. Every time the ball hits a paddle, reality shifts: the ball speeds up or slows down, paddles stretch or shrink, and sometimes your controls betray you. Illusions of extra balls flicker across the screen, player lives swap without warning, and walls no longer behave as they should.\n\nEach rally becomes a meditation on unpredictability — a contest not just of reflexes, but of adaptability. You can’t master chance, only flow with it. In the spirit of Casualism, winning or losing is beside the point; it’s all about how you handle the absurd." },
  pong2:{ type:"digital", title:"Existential Pong", play:"https://thejackofhearts.itch.io/existential-pong", screenshots:["img/Existential Pong/ss7.png","img/Existential Pong/ss8.png","img/Existential Pong/ss9.png","img/Existential Pong/ss10.png"], description:"Use Up arrow and Down Arrow to control your paddle.\nHint : It is not limited to just Up and Down arrow. Experiment with all the arrow keys. \nExistential Pong is an experimental, first-person experience where the true challenge lies not in external obstacles, but in confronting the void of meaning and exercising one's own will. The game intentionally provides no instructions, mirroring the disorienting nature of existential questioning.\nExistential Pong is an unconventional journey with multiple game endings designed to be initially frustrating and deeply thought-provoking. It aims to leave the player with new perspectives on life by forcing them to confront the absence of inherent meaning and then discover the power of self-defined purpose and free will. It's a game about asking 'why?' and then deciding 'how?' for yourself.\nThe game is intentionally secretive about the input needed to progress, leaving room exploration for the player. In order to progress, the player has to experiment with a combination of arrow keys inputs and multi-key sequences. Unlike the opponent, an automated paddle doing what it is programmed to do, the player has agency to alter the rules of the game and exercise free will.\n\nGenre: Experimental / Philosophical Simulation" },
  pong3:{ type:"digital", title:"Dualism", play:"https://sagarsigroha.itch.io/dualism-pong", screenshots:["img/DualismPong/ss3.png","img/DualismPong/ss4.png"], description:"Use W/S for Player 1 and Arrow Keys for Player 2. Score 10 points to win, and press ENTER to restart.\nDualism Pong reimagines the classic Pong as a battle between two opposing forces blue and orange. Every 10 seconds, control of the glowing ball switches between players, symbolizing the balance of power. When you control the ball, your paddle freezes; when you don’t, you can move to defend. " },
  pong4:{ type:"digital", title:"Bitheism", play:"https://bhuwanyu.itch.io/bitheism-pong", screenshots:["img/Pong/ss19.png","img/Pong/ss20.png"], description:"Bitheism Pong transforms the classic Pong experience by splitting each player’s control into two linked forces, a vertical and a horizontal paddle reflecting the dual nature of bitheism. Players must guard both their sides of the arena as the ball grows faster with every impact. This unique mechanic creates a tense, multitask-heavy duel where balance and control are everything." },
  pong5:{ type:"digital", title:"Altruism Pong", play:"", screenshots:["img/Pong/ss37.png",], description:"Altruism is concern for the well-being, the life, of others, independently of personal benefit or reciprocity. Altruism in some way or form is a part of all of us, though we are individuals we always are inclined towards one another, this social aspect is a very important part of what makes us human. We yearn and care for our loved ones and sometimes we do things that might not make logical sense, keeping the consequences of our actions on ourselves in hindsight, for the betterment of others.\nAltruism in its core essence is working towards the betterment of the whole. Altruism can be seen more evidently in animal behavior, stripping down the nuances of complex emotional behavior as in humans, for example a meerkat will act as a sentry, standing guard to warn the group of predators, even though it makes itself a target, Or in species like ants and bees, sterile workers dedicate their lives to caring for the queen and her offspring, raising the colony's young instead of reproducing themselves." },
  pong6:{ type:"digital", title:"Murphy’s pong", play:"https://angst13.github.io/NID_DGD_P5.js/Recontextualising%20pong/recontextualising/", screenshots:["img/Pong/ss24.png","img/Pong/ss25.png"], description:"Pejorism is the belief that the world is becoming worse, that things are in decline rather than improving.\nThe game begins as a normal, functioning version of Pong, but as time progresses, it starts to deteriorate and become increasingly unplayable.\nChanges in the Modified Pong Rules:\nThe paddles start to get smaller.\nThe paddles get stuck randomly.\nThe ball suddenly splits into multiple balls.\nThe ball’s speed increases unexpectedly." },
  pong7:{ type:"digital", title:"Ghost Pong", play:"https://adhi7034.github.io/NID_P5js/pong_ism", screenshots:["img/Pong/ss38.png","img/Pong/ss39.png"], description:"Eidolism means belief in ghosts. Pong is a game about a ball and two paddles, in which the player needs to control the paddles and make sure to not miss the balls. But here the twist lies in the ball as the ball navigates, it behaves like a ghost. The ball vanishes at certain points as well as it spawns multiple balls at the same time, in which only one ball will be the real one. There is also another ability in which the ball warps and spawns at random position once it touches the top or bottom walls (this ability is called ghost ball)." },
  pong8:{ type:"digital", title:"Skeptical Pong", play:"https://varsharaj2199-hub.github.io/NID_VARSHA-RAJ_P5.JS/Skeptical%20Pong/", screenshots:["img/Pong/ss35.png","img/Pong/ss36.png"], description:"Skepticism refers to a doubting attitude towards knowledge claims. It is an expression of doubting or questioning that is applied to any topic, such as politics, religion. For example, if one is skeptical of their favorite hockey team whether they will win or not, they are uncertain about the strength of their performance. Translating that idea to a skeptical game of pong means that player doubts the reliability of game system.  The player is forced to question whether their inputs have a consistent, or predictable output. The player cannot trust their senses or their tools." },
  pong9:{ type:"digital", title:"Pong 9", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 9 description." },
  pong10:{ type:"digital", title:"Pong 10", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 10 description." },
  pong11:{ type:"digital", title:"Pong 11", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 11 description." },
  pong12:{ type:"digital", title:"Pong 12", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 12 description." },
  pong13:{ type:"digital", title:"Pong 13", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 13 description." },
  pong14:{ type:"digital", title:"Pong 14", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 14 description." },
  pong15:{ type:"digital", title:"Pong 15", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 15 description." },
  pong16:{ type:"digital", title:"Pong 16", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 16 description." },
  pong17:{ type:"digital", title:"Pong 17", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 17 description." },
  pong18:{ type:"digital", title:"Pong 18", play:"#", screenshots:["/mnt/data/website.png"], description:"Pong 18 description." },

  /* ------------------ 18 NON-DIGITAL GAMES ------------------ */
  nondig1:{ type:"nondigital", title:"ND 1", description:"ND 1 short description.",screenshots:["/mnt/data/website.png","/mnt/data/website.png","/mnt/data/website.png"], video:"video/nondigital/Comp 1.mp4", rulebook:"pdf/nondigital/Play Maxx v2.pdf" },
  nondig2:{ type:"nondigital", title:"ND 2", description:"ND 2 short description.", screenshots:["/mnt/data/website.png","/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig3:{ type:"nondigital", title:"ND 3", description:"ND 3 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig4:{ type:"nondigital", title:"ND 4", description:"ND 4 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig5:{ type:"nondigital", title:"ND 5", description:"ND 5 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig6:{ type:"nondigital", title:"ND 6", description:"ND 6 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig7:{ type:"nondigital", title:"ND 7", description:"ND 7 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig8:{ type:"nondigital", title:"ND 8", description:"ND 8 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig9:{ type:"nondigital", title:"ND 9", description:"ND 9 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig10:{ type:"nondigital", title:"ND 10", description:"ND 10 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig11:{ type:"nondigital", title:"ND 11", description:"ND 11 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig12:{ type:"nondigital", title:"ND 12", description:"ND 12 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig13:{ type:"nondigital", title:"ND 13", description:"ND 13 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig14:{ type:"nondigital", title:"ND 14", description:"ND 14 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig15:{ type:"nondigital", title:"ND 15", description:"ND 15 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig16:{ type:"nondigital", title:"ND 16", description:"ND 16 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig17:{ type:"nondigital", title:"ND 17", description:"ND 17 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" },
  nondig18:{ type:"nondigital", title:"ND 18", description:"ND 18 short description.",screenshots:["/mnt/data/website.png"], video:"/mnt/data/website.png", rulebook:"/mnt/data/website.png" }
};



/* ============================================================
   MODAL LOGIC (no arrows)
   ============================================================ */
/* ============================================================
   Screenshot Navigation State
   ============================================================ */

let currentScreens = [];      // array of screenshots for current modal
let currentShotIndex = 0;     // which screenshot is visible


/* ============================================================
   Modal Logic
   ============================================================ */

document.addEventListener('DOMContentLoaded', () => {

  const modal = document.getElementById('gameModal');

  const modalTitle = document.getElementById('modalTitle');
  const modalDescription = document.getElementById('modalDescription');
  const modalPlay = document.getElementById('modalPlay');
  const modalVideo = document.getElementById('modalVideo');
  const modalPDF = document.getElementById('modalPDF');

  const videoTitle = document.getElementById('videoTitle');
  const pdfTitle = document.getElementById('pdfTitle');

  // NEW screenshot system
  const modalScreenshot = document.getElementById('modalScreenshot');
  const prevShot = document.getElementById('prevShot');
  const nextShot = document.getElementById('nextShot');


  /* ====================================================
     OPEN MODAL
     ==================================================== */
  window.openGameModal = function (key) {
    const data = typeof key === 'string' ? gameData[key] : key;
    if (!data) return;

    modalTitle.textContent = data.title || "";

    /* ----------------------------
       SCREENSHOTS (NEW SYSTEM)
       ---------------------------- */
    currentScreens = data.screenshots || [];
    currentShotIndex = 0;
    updateScreenshot();


    /* ----------------------------
       DIGITAL GAMES
       ---------------------------- */
    if (data.type === "digital") {

      modalPlay.style.display = "inline-block";
      modalPlay.href = data.play;

      modalDescription.style.display = "block";
      modalDescription.textContent = data.description || "";

      modalVideo.style.display = "none";
      modalPDF.style.display = "none";
      //videoTitle.style.display = "none";
      //pdfTitle.style.display = "none";
    }

    /* ----------------------------
       NON-DIGITAL GAMES
       ---------------------------- */
    else if (data.type === "nondigital") {

      modalPlay.style.display = "none";

      modalDescription.style.display = "block";
      modalDescription.textContent = data.description || "No description provided.";

      // VIDEO
      if (data.video) {
        modalVideo.src = data.video;
        modalVideo.style.display = "block";
        videoTitle.style.display = "block";
      } else {
        modalVideo.style.display = "none";
        videoTitle.style.display = "none";
      }

      // RULEBOOK
      if (data.rulebook) {
        modalPDF.src = data.rulebook;
        modalPDF.style.display = "block";
        pdfTitle.style.display = "block";
      } else {
        modalPDF.style.display = "none";
        pdfTitle.style.display = "none";
      }
    }

    modal.style.display = "flex";
  };



  /* ====================================================
     UPDATE SCREENSHOT based on index
     ==================================================== */
  function updateScreenshot() {
    if (currentScreens.length === 0) {
      modalScreenshot.src = "";
      return;
    }
    modalScreenshot.src = currentScreens[currentShotIndex];
  }


  /* ====================================================
     BUTTON NAVIGATION
     ==================================================== */
  prevShot.addEventListener("click", () => {
    if (currentScreens.length > 0) {
      currentShotIndex = (currentShotIndex - 1 + currentScreens.length) % currentScreens.length;
      updateScreenshot();
    }
  });

  nextShot.addEventListener("click", () => {
    if (currentScreens.length > 0) {
      currentShotIndex = (currentShotIndex + 1) % currentScreens.length;
      updateScreenshot();
    }
  });


  /* ====================================================
     KEYBOARD NAVIGATION
     ==================================================== */
  document.addEventListener("keydown", (e) => {
    if (modal.style.display === "flex") {
      if (e.key === "ArrowLeft") {
        prevShot.click();
      }
      if (e.key === "ArrowRight") {
        nextShot.click();
      }
      if (e.key === "Escape") {
        modal.style.display = "none";
        modalVideo.pause();
      }
    }
  });



  /* ====================================================
     CLOSE MODAL
     ==================================================== */
  document.querySelector('.close-modal').addEventListener("click", () => {
    modal.style.display = "none";
    modalVideo.pause();
  });

  modal.addEventListener("click", (e) => {
    if (!document.querySelector(".modal-content").contains(e.target)) {
      modal.style.display = "none";
      modalVideo.pause();
    }
  });

});
